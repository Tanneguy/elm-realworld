<!DOCTYPE html>
<html>
	<head>
		<script src="elm.js"></script>
	</head>
	<body>
		<script>
			//https://stackoverflow.com/questions/33697444/data-persistence-in-elm
			var app = Elm.Main.fullscreen();
			app.ports.saveSession.subscribe(function (state) {
				localStorage.setItem('user', JSON.stringify(state));
			});

			app.ports.doLoadSession.subscribe(function () {
				console.log("doLoadSession!");
				app.ports.loadSession.send(localStorage.getItem('user'));
			});

		</script>
	</body>
</html>